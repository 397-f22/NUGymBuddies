import{a as d,b as m}from"./tslib.87af429e.js";import{e as E}from"./echarts.a83a0b60.js";import{r as g}from"./react.dec4c728.js";import{c as v,b as _}from"./size-sensor.5528201f.js";import{f as h}from"./fast-deep-equal.a94972be.js";import{j as C}from"./@mui.59843603.js";function u(i,s){var t={};return s.forEach(function(e){t[e]=i[e]}),t}function l(i){return typeof i=="function"}function w(i){return typeof i=="string"}var O=function(i){d(s,i);function s(t){var e=i.call(this,t)||this;return e.echarts=t.echarts,e.ele=null,e.isInitialResize=!0,e}return s.prototype.componentDidMount=function(){this.renderNewEcharts()},s.prototype.componentDidUpdate=function(t){var e=this.props.shouldSetOption;if(!(l(e)&&!e(t,this.props))){if(!h(t.theme,this.props.theme)||!h(t.opts,this.props.opts)||!h(t.onEvents,this.props.onEvents)){this.dispose(),this.renderNewEcharts();return}var n=["option","notMerge","lazyUpdate","showLoading","loadingOption"];h(u(this.props,n),u(t,n))||this.updateEChartsOption(),(!h(t.style,this.props.style)||!h(t.className,this.props.className))&&this.resize()}},s.prototype.componentWillUnmount=function(){this.dispose()},s.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)||this.echarts.init(this.ele,this.props.theme,this.props.opts)},s.prototype.dispose=function(){if(this.ele){try{v(this.ele)}catch(t){console.warn(t)}this.echarts.dispose(this.ele)}},s.prototype.renderNewEcharts=function(){var t=this,e=this.props,n=e.onEvents,o=e.onChartReady,r=this.updateEChartsOption();this.bindEvents(r,n||{}),l(o)&&o(r),this.ele&&_(this.ele,function(){t.resize()})},s.prototype.bindEvents=function(t,e){function n(r,a){w(r)&&l(a)&&t.on(r,function(c){a(c,t)})}for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n(o,e[o])},s.prototype.updateEChartsOption=function(){var t=this.props,e=t.option,n=t.notMerge,o=n===void 0?!1:n,r=t.lazyUpdate,a=r===void 0?!1:r,c=t.showLoading,f=t.loadingOption,y=f===void 0?null:f,p=this.getEchartsInstance();return p.setOption(e,o,a),c?p.showLoading(y):p.hideLoading(),p},s.prototype.resize=function(){var t=this.getEchartsInstance();if(!this.isInitialResize)try{t.resize()}catch(e){console.warn(e)}this.isInitialResize=!1},s.prototype.render=function(){var t=this,e=this.props,n=e.style,o=e.className,r=o===void 0?"":o,a=m({height:300},n);return C("div",{ref:function(c){t.ele=c},style:a,className:"echarts-for-react "+r})},s}(g.exports.PureComponent),U=function(i){d(s,i);function s(t){var e=i.call(this,t)||this;return e.echarts=E,e}return s}(O);export{U as E};
